{% extends 'base.html.twig' %}

{% form_theme formComment 'bootstrap_4_layout.html.twig' %}

{% block body %}
  <style>
      .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
      .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
  </style>

  <div class="example-wrapper">
      <div class="post-container">
        <h3 class="post-title">{{ post.title }}</h3>
        <p class="post-metadata">Posted by {{ post.author }} on {{ post.createdAt | date('d/m/Y') }} at {{ post.createdAt | date('H:i') }}</p>
        <p class="post-content">{{ post.content }}</p>
      </div>
      <br>
      <div class="post-comments">
        <h3>Comments</h3>
        {% for comment in post.comments %}
          <div>
            <p>{{ comment.author }}</p>
            <p>{{ comment.content }}</p>
            <br>
          </div>
        {% endfor %}
      </div>
      <div class="post-commentForm">
        {% if not app.user %}
          <h3>Sign in to comment</h3>
        {% else %}
          {{ form_start(formComment) }}
          {{ form_row(formComment.author) }}
          {{ form_row(formComment.content) }}
          <button type="submit" class="btn btn-info">Add your comment</button>
          {{ form_end(formComment) }}
        {% endif %}
      </div>
  </div>

{% endblock %}
